# Story 3.4: Assign Labels to Tasks

## Status
Ready

## Story

**As a** user,  
**I want** to assign multiple labels to a task,  
**so that** I can categorize my todos for better organization.

## Acceptance Criteria

1. Task edit form includes label picker component (multi-select dropdown or checkbox list)
2. Label picker fetches available labels from `GET /labels` API
3. Label picker displays current task's assigned labels as selected
4. User can select/deselect multiple labels
5. Saving task form includes updated label_ids array in `PATCH /tasks/:id` request
6. Task list view displays assigned labels as chips/badges on each task card
7. Labels are visually distinguishable (e.g., colored badges with label name)
8. Task creation form also includes label picker for assigning labels at creation time
9. Changes to task labels persist and are reflected immediately in UI

## Tasks / Subtasks

- [ ] Task 1: Create LabelPicker component (AC: 1, 2, 3, 4)
  - [ ] Create `frontend/src/components/labels/LabelPicker.tsx`
  - [ ] Use Shadcn Select or Checkbox list for multi-select
  - [ ] Fetch labels with useLabels hook
  - [ ] Props: selectedLabelIds, onSelectionChange
  - [ ] Display selected labels

- [ ] Task 2: Add LabelPicker to TaskCreateModal (AC: 8)
  - [ ] Update TaskCreateModal component
  - [ ] Include LabelPicker in form
  - [ ] Pass label_ids to POST /tasks request

- [ ] Task 3: Add LabelPicker to TaskEditModal (AC: 1, 5)
  - [ ] Update TaskEditModal component
  - [ ] Include LabelPicker pre-filled with current task's labels
  - [ ] Pass updated label_ids to PATCH /tasks/:id

- [ ] Task 4: Display label badges on TaskCard (AC: 6, 7, 9)
  - [ ] Update TaskCard component
  - [ ] Fetch label details for task's label_ids
  - [ ] Display as Badge components with label names
  - [ ] Apply distinct styling

## Dev Notes

**[Source: docs/front-end-spec.md#Component Library - Badge/Chip]**

Label chips as neutral colored badges, removable in edit mode.

**[Source: docs/architecture/frontend-architecture.md#Component Organization]**

LabelPicker component in `components/labels/`. Uses useLabels hook to fetch available labels.

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-12 | 1.0 | Story created from Epic 3 | Bob (SM) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent after implementation_
