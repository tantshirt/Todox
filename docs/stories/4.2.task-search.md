# Story 4.2: Task Search

## Status
Ready

## Story

**As a** user,  
**I want** to search tasks by title or description,  
**so that** I can quickly find specific tasks without scrolling.

## Acceptance Criteria

1. Search input field appears above task list
2. Search is case-insensitive and matches partial text in title or description
3. Task list updates in real-time as user types (debounced for performance)
4. Search works in combination with label filters (both applied)
5. Clear search button (X icon) clears the search input
6. Empty state shows when no tasks match search with helpful message
7. Search placeholder text guides user: "Search tasks by title or description..."

## Tasks / Subtasks

- [ ] Task 1: Add search input to tasks page (AC: 1, 5, 7)
  - [ ] Update `frontend/src/app/tasks/page.tsx`
  - [ ] Add search input state
  - [ ] Add Input component with search icon
  - [ ] Add clear button (X) when search has text
  - [ ] Position above task list, below header

- [ ] Task 2: Implement search logic (AC: 2, 3, 4)
  - [ ] Create search filter function: case-insensitive match on title + description
  - [ ] Apply after label filtering: `labelFilteredTasks.filter(task => matchesSearch(task, searchQuery))`
  - [ ] Use toLowerCase() for case-insensitive matching
  - [ ] Optional: Add debounce (300ms) for performance with many tasks

- [ ] Task 3: Handle empty search results (AC: 6)
  - [ ] Show empty state when search returns no results
  - [ ] Message: "No tasks match your search" with clear search button
  - [ ] Distinguish from filter empty state

- [ ] Task 4: Manual testing
  - [ ] Test search by title
  - [ ] Test search by description
  - [ ] Test partial matches
  - [ ] Test case-insensitive
  - [ ] Test combined with label filters
  - [ ] Test clear search

## Dev Notes

### Search Implementation

```typescript
const [searchQuery, setSearchQuery] = useState('');

const matchesSearch = (task: Task, query: string): boolean => {
  if (!query) return true;
  
  const searchLower = query.toLowerCase();
  const titleMatch = task.title.toLowerCase().includes(searchLower);
  const descMatch = task.description?.toLowerCase().includes(searchLower) || false;
  
  return titleMatch || descMatch;
};

const filteredTasks = tasks
  .filter(task => /* label filter logic */)
  .filter(task => matchesSearch(task, searchQuery));
```

### Optional Debounce

```typescript
import { useState, useEffect } from 'react';

const [searchQuery, setSearchQuery] = useState('');
const [debouncedSearch, setDebouncedSearch] = useState('');

useEffect(() => {
  const timer = setTimeout(() => setDebouncedSearch(searchQuery), 300);
  return () => clearTimeout(timer);
}, [searchQuery]);

// Use debouncedSearch for filtering
```

### File Locations

Modify:
- `frontend/src/app/tasks/page.tsx`

### Testing

**Manual Testing:**
- ✓ Search finds tasks by title
- ✓ Search finds tasks by description
- ✓ Partial matches work
- ✓ Case-insensitive
- ✓ Works with label filters
- ✓ Clear button works

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-30 | 1.0 | Story created for Epic 4 | Bob (SM) |

## Dev Agent Record

_To be populated by dev agent_

## QA Results
_To be populated by QA agent_

