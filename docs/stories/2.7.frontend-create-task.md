# Story 2.7: Frontend Create Task Form

## Status
Ready

## Story

**As a** user,  
**I want** a form to create new tasks,  
**so that** I can quickly add todos to my list.

## Acceptance Criteria

1. Task creation form accessible via button on task list page (opens modal or navigates to `/tasks/new`)
2. Form includes fields: title (text input), description (textarea, optional), priority (select dropdown: High/Medium/Low), deadline (date picker)
3. Client-side validation using Zod ensures: title required, priority selected, valid deadline date before submission
4. Form submission calls `POST /tasks` API with form data
5. Successful creation shows success toast, clears form, closes modal/returns to list, and displays new task at top of list
6. Validation errors display inline with clear, actionable messages
7. API errors display toast with retry option
8. Loading state during submission (disabled submit button, spinner)
9. Form uses Shadcn UI components with proper accessibility

## Tasks / Subtasks

- [ ] Task 1: Install Shadcn components (AC: 2, 9)
  - [ ] Run `npx shadcn-ui@latest add dialog form select textarea` in frontend/

- [ ] Task 2: Create Zod validation schema (AC: 3)
  - [ ] Update `frontend/src/lib/validations.ts`
  - [ ] Define createTaskSchema with title (required), description (optional), priority (enum), deadline (date string)

- [ ] Task 3: Add createTask mutation to useTasks hook (AC: 4, 5)
  - [ ] Update `frontend/src/hooks/useTasks.ts`
  - [ ] Add useMutation for POST /tasks
  - [ ] On success: invalidate tasks query to refetch list
  - [ ] Return createTask mutation function

- [ ] Task 4: Create TaskCreateModal component (AC: 1, 2, 6, 8, 9)
  - [ ] Create `frontend/src/components/tasks/TaskCreateModal.tsx`
  - [ ] Use Dialog from Shadcn for modal
  - [ ] Form with: title input, description textarea, priority select, deadline input (type="date")
  - [ ] Use react-hook-form with Zod validation
  - [ ] Show loading state on submit button
  - [ ] Display validation errors inline

- [ ] Task 5: Add Create Task button to task list page (AC: 1)
  - [ ] Update `frontend/src/app/tasks/page.tsx`
  - [ ] Add "Create Task" button that opens TaskCreateModal
  - [ ] Manage modal open/close state

## Dev Notes

**[Source: docs/front-end-spec.md#Task Creation Modal]**

Modal with form fields for title, description, priority dropdown, deadline date picker.

**[Source: docs/architecture/frontend-architecture.md#Service Example]**

React Query's useMutation handles API calls with automatic cache updates.

**[Source: docs/front-end-spec.md#User Flow 2: Create a New Task]**

Complete flow diagram shows validation, loading states, error handling.

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-12 | 1.0 | Story created from Epic 2 | Bob (SM) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent after implementation_
